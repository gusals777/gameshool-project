<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery Simple Pagination Example</title>
	<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<style>
.pagination.disabled a,  .pagination.disabled a:hover,  .pagination.disabled a:focus,  .pagination.disabled span {
  color: #eee;
  background: #fff;
  cursor: default;
}

.pagination { float: left; }

.pagination.disabled li.active a {
  color: #fff;
  background: #cccccc;
  border-color: #cccccc;
}

.paging-container select {
  float: left;
  margin: 20px 0 20px 10px;
  padding: 9px 3px;
  border-color: #ddd;
  border-radius: 4px;
}

#table { margin-bottom: 0; }
</style>
<link rel="stylesheet" type="text/css" href="https://www.jqueryscript.net/css/jquerysctipttop.css">
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="/js/pagination.js"></script>
	<script>
    
	$(function () {
			load = function() {
				window.tp = new Pagination('#tablePaging', {
					itemsCount: <%= @fb_all.count %>,
					onPageSizeChange: function (ps) {
						console.log('changed to ' + ps);
					},
					onPageChange: function (paging) {
						//custom paging logic here
						console.log(paging);
						var start = paging.pageSize * (paging.currentPage - 1),
							end = start + paging.pageSize,
							$rows = $('#table').find('.data');

						$rows.hide();

						for (var i = start; i < end; i++) {
							$rows.eq(i).show();
						}
					}
				});
			}

		load();
	});
	</script>
	</head>
	<body>
    <div class="container" style="margin-top:150px;">
      <form id="form1">
        <table id="table" style="width: 800px" class="table table-striped">
          <tr>
            <th style="text-align: center"># </th>
            <th style="text-align: center">글쓴이 </th>
            <th style="text-align: center">제목 </th>
            <th style="text-align: center">작성일</th>
          </tr>
          <% @fb_all.reverse_each do |a| %>
                <tr class="data">
                    <td  style="text-align :center"><%= a.id %></td>
                
                    <td  style="text-align :center"><%= a.fb_name %></td>
                     
                    <% if user_signed_in? %>
                        <td  style="text-align :center"><a href="/freeboard/upload_view?id=<%= a.id %>"><%= a.fb_title %>(<%= a.replies.count %>)</a></td>
                    <% else %>    
                        <td  style="text-align :center"><a href="/freeboard/warning"><%= a.fb_title %>(<%= a.replies.count %>)</a></td>
                    <% end %>
                        <td  style="text-align :center"><%=a.created_at.in_time_zone("Seoul")%></td>
                </tr>
            <% end %>
        </table>
        <% if user_signed_in? %>
            <p align="right"><a href="/freeboard/upload">작성하기</a></p>
        <% else %>
            <p align="right"><a href="/freeboard/warning">작성하기</a></p>
        <% end %>
        <div class="paging-container" id="tablePaging"> </div>
        <div style="clear: both"></div>
      </form>
    </div>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
